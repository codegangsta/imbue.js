<!DOCTYPE html>  <html> <head>   <title>imbue-scope-changing.js</title>   <meta http-equiv="content-type" content="text/html; charset=UTF-8">   <link rel="stylesheet" media="all" href="docco.css" /> </head> <body>   <div id="container">     <div id="background"></div>          <table cellpadding="0" cellspacing="0">       <thead>         <tr>           <th class="docs">             <h1>               imbue-scope-changing.js             </h1>           </th>           <th class="code">           </th>         </tr>       </thead>       <tbody>                               <tr id="section-1">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-1">&#182;</a>               </div>               <h1>Scope Changing</h1>

<p>Scope changes can be easily applied to injected objects
through multiple injectors. An injector in one module can have
different mappings than another module. This allows for extreme
code reuse and leads to more testable code.</p>             </td>             <td class="code">               <div class="highlight"><pre></pre></div>             </td>           </tr>                               <tr id="section-2">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-2">&#182;</a>               </div>               <p>Create our injectors.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">injectorA</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Injector</span><span class="p">();</span>
<span class="kd">var</span> <span class="nx">injectorB</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Injector</span><span class="p">();</span></pre></div>             </td>           </tr>                               <tr id="section-3">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-3">&#182;</a>               </div>               <p>Map values to our injectors.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">injectorA</span><span class="p">.</span><span class="nx">mapValue</span><span class="p">(</span><span class="s2">&quot;Hello&quot;</span><span class="p">,</span><span class="s2">&quot;Message&quot;</span><span class="p">);</span>
<span class="nx">injectorB</span><span class="p">.</span><span class="nx">mapValue</span><span class="p">(</span><span class="s2">&quot;World!&quot;</span><span class="p">,</span><span class="s2">&quot;Message&quot;</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-4">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-4">&#182;</a>               </div>               <p>Create <code>myObject</code> with an injected message and a function to print
the message.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="kd">var</span> <span class="nx">myObject</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">print</span><span class="o">:</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">Message</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">};</span>
<span class="nx">inject</span><span class="p">(</span><span class="s2">&quot;Message&quot;</span><span class="p">).</span><span class="nx">into</span><span class="p">(</span><span class="nx">myObject</span><span class="p">);</span></pre></div>             </td>           </tr>                               <tr id="section-5">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-5">&#182;</a>               </div>               <p>Since we have not injected anthing into it yet, this statement will
print <em>'undefined'</em>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">myObject</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span> <span class="cm">/* &#39;undefined&#39; */</span></pre></div>             </td>           </tr>                               <tr id="section-6">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-6">&#182;</a>               </div>               <p>Apply injectorA to <code>myObject</code>. Calling print on <code>myObject</code> will now
print <em>'Hello'</em>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">injectorA</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myObject</span><span class="p">);</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span> <span class="cm">/* &#39;Hello&#39; */</span></pre></div>             </td>           </tr>                               <tr id="section-7">             <td class="docs">               <div class="pilwrap">                 <a class="pilcrow" href="#section-7">&#182;</a>               </div>               <p>Apply injectorB to <code>myObject</code>. Calling print on <code>myObject</code> will now
print <em>'World!'</em>.</p>             </td>             <td class="code">               <div class="highlight"><pre><span class="nx">injectorB</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">myObject</span><span class="p">);</span>
<span class="nx">myObject</span><span class="p">.</span><span class="nx">print</span><span class="p">();</span> <span class="cm">/* &#39;World!&#39; */</span>

</pre></div>             </td>           </tr>                </tbody>     </table>   </div> </body> </html> 